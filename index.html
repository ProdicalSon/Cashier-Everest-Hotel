<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cashier Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <nav>
        <ul>
            <li><a href="index.html">Dashboard</a></li>
            <li><a href="transactiondetails.php">Transactions</a></li>
            <li><a href="#reports">Reports</a></li>
        </ul>
    </nav>

    <div class="container1">
        <h2>CASHIER SALES MONITOR</h2>
    </div>

    <div class="container">

        <!-- Mpesa Form -->
        <div class="form-box">
            <h3>Mpesa Details Form</h3>
            <form action="register_mpesa.php" method="POST">
                <label for="name">Name</label>
                <input type="text" name="namee" required placeholder="Enter cashier name">

                <label for="amount">Amount</label>
                <input type="number" name="amount" required placeholder="Enter amount">

                <label for="code">Transaction Code</label>
                <input type="text" name="code" required placeholder="Enter transaction code">

                <label for="date">Transaction Date</label>
                <input type="date" name="created_at" required placeholder="Select transaction date" title="Transaction Date">

                <button type="submit">Submit Mpesa Details</button>
            </form>
        </div>


        <!-- Cancelled Sales -->
        <div class="form-box">
            <h3>Cancelled Sales Form</h3>
            <form action="register_cancelled_sales.php" method="POST">
                <label for="amount">Amount</label>
                <input type="number" name="amount" required placeholder="Enter cancelled amount">

                <label for="invoice_code">Invoice Code</label>
                <input type="number" name="invoice_code" required placeholder="Enter Invoice Code">

                <label for="date">Transaction Date</label>
                <input type="date" name="created_at" required placeholder="Select transaction date" title="Transaction Date">

                <button type="submit">Submit Cancelled Sale</button>
            </form>
        </div>

        <!-- Paid Bills -->
        <div class="form-box">
            <h3>Paid Bills Form</h3>
            <form action="register_paid_bills.php" method="POST">
                <label for="name">Name</label>
                <input type="text" name="namee" required placeholder="Enter cashier name">

                <label for="amount">Amount</label>
                <input type="number" name="amount" required placeholder="Enter paid bills amount">

                <label for="invoice_code">Invoice Code</label>
                <input type="number" name="invoice_code" required placeholder="Enter Invoice Code">

                <label for="date">Transaction Date</label>
                <input type="date" name="created_at" required placeholder="Select transaction date" title="Transaction Date">


                <button type="submit">Submit Paid Bills</button>
            </form>
        </div>


        <!-- Unpaid Bills -->
        <div class="form-box">
            <h3>Unpaid Bills Form</h3>
            <form action="register_unpaid_bills.php" method="POST">
                <label for="name">Name</label>
                <input type="text" name="namee" required placeholder="Enter name">

                <label for="amount">Amount</label>
                <input type="number" name="amount" required placeholder="Enter unpaid bills amount">

                <label for="invoice_code">Invoice Code</label>
                <input type="number" name="invoice_code" required placeholder="Enter Invoice Code">

                <label for="date">Transaction Date</label>
                <input type="date" name="created_at" required placeholder="Select transaction date" title="Transaction Date">

                <button type="submit">Submit Unpaid Bill</button>
            </form>
        </div>


        <!-- Expenses -->
        <div class="form-box">
            <h3>Expenses Form</h3>
            <form action="register_expenses.php" method="POST">
                <label for="name">Item Name</label>
                <input type="text" name="namee" required placeholder="Enter item name">

                <label for="expenses">Expense Amount</label>
                <input type="number" name="amount" required placeholder="Enter expense amount">

                <label for="date">Transaction Date</label>
                <input type="date" name="created_at" required placeholder="Select transaction date" title="Transaction Date">

                <button type="submit">Submit Expense</button>
            </form>
        </div>

        <!-- Complimentary -->
        <div class="form-box">
            <h3>Complimentary Form</h3>
            <form action="register_complimentary.php" method="POST">
                <label for="amount">Amount</label>
                <input type="number" name="amount" required placeholder="Enter amount">

                <label for="invoice_code">Invoice Code</label>
                <input type="number" name="invoice_code" required placeholder="Enter invoice code">

                <label for="date">Transaction Date</label>
                <input type="date" name="created_at" required placeholder="Select transaction date" title="Transaction Date">

                <button type="submit">Submit Complimentary</button>
            </form>
        </div>

    </div>

    <!-- JavaScript to handle AJAX form submission -->
    <script>
        document.querySelectorAll("form").forEach(form => {
            form.addEventListener("submit", function(event) {
                event.preventDefault();


                const formData = new FormData(form);


                fetch(form.action, {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.text())
                    .then(data => {

                        console.log(data);
                        alert("Submission successful!");

                        form.reset();
                    })
                    .catch(error => {
                        console.error("Error:", error);
                        alert("An error occurred during submission.");
                    });
            });
        });
    </script>

</body>

</html>